!function(r,e){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime","./number"],e):"object"==typeof exports?module.exports=e(require("../globalize-runtime"),require("./number")):e(r.Globalize)}(this,function(t){function u(r,e,t){var n,a,u=[],o=t.displayNames||{},c=t.unitPatterns;return n=o["displayName-count-"+e]||o["displayName-count-other"]||o.displayName||t.currency,a=c["unitPattern-count-"+e]||c["unitPattern-count-other"],i(a,[r,n]).forEach(function(r){"variable"===r.type&&"0"===r.name?r.value.forEach(function(r){y(u,r.type,r.value)}):"variable"===r.type&&"1"===r.name?y(u,"currency",r.value):y(u,"literal",r.value)}),u}var i=t._formatMessageToParts,n=t._partsJoin,y=t._partsPush,a=t._runtimeKey,o=t._validateParameterPresence,c=t._validateParameterTypeNumber;return t._currencyFormatterFn=function(e){return function(r){return n(e(r))}},t._currencyNameFormat=u,t._currencyToPartsFormatterFn=function(n,a,e){return a&&e?function(r){return o(r,"value"),c(r,"value"),u(n(r),a(r),e)}:function(r){return e=n(r),t=a,e.forEach(function(r){"currency"===r.type&&(r.value=t)}),e;var e,t}},t.currencyFormatter=t.prototype.currencyFormatter=function(r,e){return e=e||{},t[a("currencyFormatter",this._locale,[r,e])]},t.currencyToPartsFormatter=t.prototype.currencyToPartsFormatter=function(r,e){return e=e||{},t[a("currencyToPartsFormatter",this._locale,[r,e])]},t.formatCurrency=t.prototype.formatCurrency=function(r,e,t){return o(r,"value"),c(r,"value"),this.currencyFormatter(e,t)(r)},t.formatCurrencyToParts=t.prototype.formatCurrencyToParts=function(r,e,t){return o(r,"value"),c(r,"value"),this.currencyToPartsFormatter(e,t)(r)},t});