!function(e,n){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],n):"object"==typeof exports?module.exports=n(require("cldrjs"),require("../globalize")):n(e.Cldr,e.Globalize)}(this,function(e,n){function T(e){return t("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})}function o(e,n){r(e,n,void 0===e||"number"==typeof e,"Number")}function c(e,n){r(e,n,void 0===e||"string"==typeof e,"a string")}function b(e){var n=e.attributes["u-nu"];return n?("traditio"===n&&(n="traditional"),-1!==["native","traditional","finance"].indexOf(n)?e.main(["numbers/otherNumberingSystems",n]):n):e.main("numbers/defaultNumberingSystem")}function h(e){var n,t=b(e);if("latn"!==t){if("numeric"!==(n=e.supplemental(["numberingSystems",t]))._type)throw T("`"+n._type+"` numbering system");return n._digits}}function v(e){var n,t,r,i,u,a,o,c,m,f,l,s,p,g,d,b,h,v;if(!(e=e.match(E)))throw new Error("Invalid pattern: "+e);if(s=e[1],l=e[4],i=e[5],h=e[9],d=e[10],v=e[11],h?h.replace(/(@+)(#*)/,function(e,n,t){f=n.length,o=f+t.length}):(r=e[8],u=e[7],a=r?(r.replace(/[0-9]+/,function(e){c=e}),c=c?(g=+("0."+c),c.length):0,r.length-1):c=0,u.replace(/0+$/,function(e){m=e.length})),d)throw T({feature:"scientific notation (not implemented)"});if(l)throw T({feature:"padding (not implemented)"});return-1!==(n=i.lastIndexOf(","))&&(p=(t=i.split(".")[0]).length-n-1,-1!==(t=i.lastIndexOf(",",n-1))&&(b=n-1-t)),[s,l,m,c,a,f,o,g,p,b,v]}function D(e,n){return n.main(["numbers/symbols-numberSystem-"+b(n),e])}function x(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}function S(e,n,t){var r,i,u,a,o,c,m,f,l,s,p,g;function d(e,n){e in t&&(m[n]=t[e])}return t=t||{},o=(e=e.split(";"))[0],r=e[1]||"-"+o,i=(u=v(r))[0],a=u[10],f="truncate"===(f=(f=t.round)||"round")?x:Math[f],(c=function(e,n){var t,r;if(e=+e,isNaN(e))return NaN;if("object"==typeof n&&n.exponent){if(r=1,0==(t=+n.exponent))return f(e);if("number"!=typeof t||t%1!=0)return NaN}else{if(1===(r=+n||1))return f(e);if(isNaN(r))return NaN;t=+(r=r.toExponential().split("e"))[1],r=+r[0]}return(e=e.toString().split("e"))[0]=e[0]/r,e[1]=e[1]?e[1]-t:-t,(e=(e=f(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=e[0]*r,e[1]=e[1]?+e[1]+t:t,+(e[0]+"e"+e[1])}).generatorString=function(){return"numberRound("+(t.round?'"'+t.round+'"':"")+")"},m=v(o).concat([o,i+o+a,i,a,c,D("infinity",n),D("nan",n),function(e){var n,t={};for(n in I)t[n]=D(I[n],e);return t}(n),h(n)]),t.compact&&(m[2]=1,m[3]=0,m[4]=0,m[5]=m[6]=void 0,m[20]=(l=t.compact,p=0,g=(s=n).main(["numbers/decimalFormats-numberSystem-"+b(s),l,"decimalFormat"]),(g=Object.keys(g).reduce(function(e,n){var t=n.split("0").length-1,r=n.split("-")[2];return e[t]=e[t]||{},e[t][r]=g[n],p=Math.max(t,p),e},{})).maxExponent=p,g)),d("minimumIntegerDigits",2),d("minimumFractionDigits",3),d("maximumFractionDigits",4),d("minimumSignificantDigits",5),d("maximumSignificantDigits",6),!1===t.useGrouping&&(m[8]=null),"minimumFractionDigits"in t&&!("maximumFractionDigits"in t)?m[4]=Math.max(m[3],m[4]):!("minimumFractionDigits"in t)&&"maximumFractionDigits"in t&&(m[3]=Math.min(m[3],m[4])),m}function P(e){return e.replace(i,"").replace(a,"-").replace(M," ")}function m(e,n){var t,r,i,u,a,o,c,m,f,l;return t=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],i=n[0],r=n[1]||{},f=n[2],e=P(e),l=e,!t.some(function(e){var t=l;return e.every(function(e){return null!==t.match(f[e])&&(t=t.replace(f[e],(n=e,function(e){switch(e=e.split("").map(function(e){return i[e]||r[e]||e}).join(""),n){case"infinity":a=1/0;break;case"nan":a=NaN;break;case"number":e=e.replace(/,/g,""),a=+e;break;case"prefix":case"negativePrefix":o=e;break;case"suffix":m=e;break;case"negativeSuffix":m=e,u=!0;break;default:throw new Error("Internal error")}return""})),!0);var n})&&!t.length})||isNaN(a)?NaN:(-1!==(c=""+o+m).indexOf("%")?a/=100:-1!==c.indexOf("‰")&&(a/=1e3),u&&(a*=-1),a)}function w(n,t){return Object.keys(n).map(function(e){return t([e,n[e]])}).reduce(function(e,n){return e[n[0]]=n[1],e},{})}function C(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"'":e.replace(/''/g,"'").slice(1,-1)}function f(e,n,t){var r,i,u,a,o,c,m,f,l,s,p,g,d,b,h,v,x,y,N,F,E=S(e,n,t);return v=P(E[0]),f=E[4],s=E[5],l=E[6],x=E[8],y=E[9],N=P(E[10]),g=P(E[13]),d=P(E[14]),o=P(E[16]),p=P(E[17]),F=w(E[18],function(e){return[e[0],P(e[1])]}),b=E[19],m=w(function(e){var n,t={};for(n in I)t[D(I[n],e)]=n;return t}(n),function(e){return[P(e[0]),e[1]]}),u=b?"["+b+"]":"\\d",a=_(F[","]),i=_(F["."]),b&&(c=b.split("").reduce(function(e,n,t){return e[n]=String(t),e},{})),v=(r=[v,N,g,d].map(function(e){return e.replace(/('([^']|'')+'|'')|./g,function(e,n){return n?C(n):e=e.replace(/[\-+E%\u2030]/,function(e){return F[e]})})}))[0],N=r[1],g=r[2],d=r[3],h=u+"+",x&&(h="("+(r=y?u+"{1,"+y+"}(("+a+u+"{"+y+"})*("+a+u+"{"+x+"}))":u+"{1,"+x+"}("+a+u+"{"+x+"})+")+"|"+h+")"),isNaN(s*l)&&!f||(h="("+(h=h+"("+(r=i+u+"+")+"|"+i+")?|("+h+")?"+r)+")"),[m,c,{infinity:new RegExp("^"+_(o)),nan:new RegExp("^"+_(p)),negativePrefix:new RegExp("^"+_(g)),negativeSuffix:new RegExp("^"+_(d)),number:new RegExp("^"+h),prefix:new RegExp("^"+_(v)),suffix:new RegExp("^"+_(N))}]}function l(e,n){if("decimal"!==e&&"percent"!==e)throw new Error("Invalid style");return n.main(["numbers",e+"Formats-numberSystem-"+b(n),"standard"])}function R(e,n,t){var r;return 0===e?e:(r=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:r-=n}))}function s(e,n,t){var r,i,u,a,o,c,m,f,l,s,p,g,d,b,h,v,x,y,N,F,E,D,S,P,w,_,M,j,A,O;return n[1],m=n[2],c=n[3],a=n[4],f=n[5],o=n[6],h=n[7],g=n[8],v=n[9],b=n[15],u=n[16],l=n[17],N=n[18],s=n[19],i=n[20],isNaN(e)?[{type:"nan",value:l}]:(y=e<0?(d=n[12],p=n[13],n[14]):(d=n[11],p=n[0],n[10]),p=(x=function(e){var t="integer",r=[];return e.replace(/('([^']|'')+'|'')|./g,function(e,n){n?k(r,"literal",C(n)):"¤"!==e?(e=(e=e.replace(/[.,\-+E%\u2030]/,function(e){return"."===e&&(t="fraction"),k(r,I[e],N[e]),""})).replace(/[0-9]/,function(e){return s&&(e=s[+e]),k(r,t,e),""})).replace(/./,function(e){k(r,"literal",e)}):k(r,"currency",e)}),r})(p),y=x(y),isFinite(e)?(-1!==d.indexOf("%")?e*=100:-1!==d.indexOf("‰")&&(e*=1e3),i&&(S=Math.abs(Math.floor(e)).toString().length-1,3<=(S=Math.min(S,i.maxExponent))&&(F=i[S]&&i[S].other),"0"===F?F=null:F&&(D=S-(F.split("0").length-1-1),e/=Math.pow(10,D))),e=isNaN(f*o)?(w=e,_=m,M=c,A=b,O=h,w=(j=a)?A(w,O||{exponent:-j}):A(w),w=String(w),j&&/e-/.test(w)&&(w=(+w).toFixed(j).replace(/0+$/,"").replace(/\.$/,"")),M&&((w=w.split("."))[1]=B(w[1]||"",M,!0),w=w.join(".")),_&&((w=w.split("."))[0]=B(w[0],_),w=w.join(".")),w):function(e,n,t,r){var i,u;if(t<n&&(t=n),e=(+(e=+(i=R(e,n,r))==+(u=R(e,t,r))?i:u)).toString(10),/e/.test(e))throw T({feature:"integers out of (1e21, 1e-7)"});return 0<n-e.replace(/^0+|\./g,"").length&&((e=e.split("."))[1]=B(e[1]||"",n-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,f,o,b),i&&F&&(P=t?t(+e):"other",E=(F=i[S][P]||F).match($),r=function(e){var r=[];return e.replace(/(\s+)|([^\s0]+)/g,function(e,n,t){n?k(r,"literal",n):t&&k(r,"compact",t)}),r},p=p.concat(r(E[1])),y=r(E[3]).concat(y)),e=e.replace(/^-/,""),g&&(e=function(e,n,t){var r,i=n,u="",a=!!t;for(r=(e=String(e).split("."))[0].length;i<r;)u=e[0].slice(r-i,r)+(u.length?",":"")+u,r-=i,a&&(i=t,a=!1);return e[0]=e[0].slice(0,r)+(u.length?",":"")+u,e.join(".")}(e,g,v)),p.concat(x(e),y)):p.concat({type:"infinity",value:u},y))}var t=n._createError,u=n._partsJoin,k=n._partsPush,_=n._regexpEscape,p=n._runtimeBind,B=n._stringPad,g=n._validateCldr,d=n._validateDefaultLocale,y=n._validateParameterPresence,N=n._validateParameterRange,r=n._validateParameterType,F=n._validateParameterTypePlainObject,E=/^(('([^']|'')*'|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,I={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},i=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,a=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,M=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,$=/^([^0]*)(0+)([^0]*)$/;return n.numberFormatter=n.prototype.numberFormatter=function(e){var n,t,r,i;return F(e,"options"),n=[e=e||{}],t=this.numberToPartsFormatter(e),i=t,r=function(e){return u(i(e))},p(n,this.cldr,r,[t]),r},n.numberToPartsFormatter=n.prototype.numberToPartsFormatter=function(e){var n,t,r,i,u,a;F(e,"options"),e=e||{},t=this.cldr,n=[e],d(t),t.on("get",g);try{i=e.raw?e.raw:l(e.style||"decimal",t),r=[u=S(i,t,e)]}finally{t.off("get",g)}return function(e){var n=e[2],t=e[3],r=e[4],i=e[5],u=e[6];if(isNaN(i*u)){if(!isNaN(i)||!isNaN(u))throw new Error("Neither or both the minimum and maximum significant digits must be present");N(n,"minimumIntegerDigits",1,21),N(t,"minimumFractionDigits",0,20),N(r,"maximumFractionDigits",t,20)}else N(i,"minimumSignificantDigits",1,21),N(u,"maximumSignificantDigits",i,21)}(u),e.compact&&r.push(this.pluralGenerator()),a=function(n,t){return function(e){return y(e,"value"),o(e,"value"),s(e,n,t)}}.apply(null,r),p(n,t,a,r),a},n.numberParser=n.prototype.numberParser=function(e){var n,t,r,i,u,a;if(F(e,"options"),e=e||{},t=this.cldr,n=[e],d(t),e.compact)throw T({feature:"compact number parsing (not implemented)"});return t.on("get",g),r=e.raw?e.raw:l(e.style||"decimal",t),i=f(r,t,e),t.off("get",g),p(n,t,u=function(e){return y(e,"value"),c(e,"value"),m(e,a)},[a=i]),u},n.formatNumber=n.prototype.formatNumber=function(e,n){return y(e,"value"),o(e,"value"),this.numberFormatter(n)(e)},n.formatNumberToParts=n.prototype.formatNumberToParts=function(e,n){return y(e,"value"),o(e,"value"),this.numberToPartsFormatter(n)(e)},n.parseNumber=n.prototype.parseNumber=function(e,n){return y(e,"value"),c(e,"value"),this.numberParser(n)(e)},n._createErrorUnsupportedFeature=T,n._numberNumberingSystem=b,n._numberNumberingSystemDigitsMap=h,n._numberPattern=l,n._numberSymbol=D,n._looseMatching=P,n._removeLiteralQuotes=C,n._stringPad=B,n._validateParameterTypeNumber=o,n._validateParameterTypeString=c,n});